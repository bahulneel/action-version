# GitLab Flow preset
# Provides flows and branch metadata for GitLab Flow (environment-based)

flows:
  # Flow: Promote from main to pre-prod
  - name: promote-to-preprod
    from: main
    to: pre-prod
    # Sync version

  # Flow: Promote from pre-prod to prod
  - name: promote-to-prod
    from: pre-prod
    to: prod
    # Sync version

  # Flow: Bump version on main
  - name: bump-version
    from: main
    versioning: pre-release
    base: main

branches:
  main:
    tags: true
    protected: true
  pre-prod:
    protected: true
  prod:
    tags: true
    protected: true
